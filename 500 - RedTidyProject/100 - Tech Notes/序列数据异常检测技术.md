# 时间序列数据异常检测

## 时间序列数据简介

- 时间序列数据集合是大量数据集合中的一种子集。
  - 时间序列又简称时序，其定义为随着时间变化而形成的有序数据序列。
  - 该数据集反映了随着时间变化一种或多种事务或者事件的过程状态，其表示方法可以采用实际的数值或者符号定义。其时序集合通常也被认为是通过等间隔时间取样而形成的具有实际数值的有序数据序列。
- 时间序列的相关研究内容
  - 对于时间序列相关特征如何进行表示
  - 对于时间序列相关相似性数据搜索
  - 流数据的异常问题监测
  - 时序分类与聚类
  - 时序相关问题的预测及其可视化

## 时间序列异常检测

- 时间序列异常的定义

  - 统计学家们给出的异常定义，即不服从某一个具体的数据分布，且远离其他数据点的数据对象，被称之为时间序列异常；
  - 数据挖掘专家给出的异常定义，即在数据分类中，与相同类别的数据集偏离较大的数据对象，被称之为时间序列异常。
  - （被认可）“在某个具体的数据集中，数据异常是指与其他数据存在显著性差异（异质性数据）的某些数据，被称为异常数据。此外，异常数据也并非完全由随机误差或随机干扰所产生”

- 时序点异常检测

  - 时序点异常检测是指，将对时间序列中单位数据点的数值进行相应的度量，并对超出阈值或阈值范围的数据点进行异常告警。

  - 主要检测方法：

    - 基于统计的异常点检测方法
    - 基于距离的异常点检测方法
    - 基于密度的异常点检测方法
    - 基于感知机的异常点检测方法
    - 基于支持向量机的异常点监测方法
    - 基于聚类分析的异常点方法

    以上方法主要聚焦于单位时序点的数值是否超出了相应的阈值约束，而忽略了对时间序列中数据变化趋势方面的异常度量，因此具有一定的片面性。

## 时间序列特征表示

- 如何提高时间序列数据的计算效率和降维，通常采用特征表示方法，其主要方式是通过分析时间序列数据的特征，采用新的表示方法表示其主要特征，从而对整个时间序列数据进行新的描述，进而以更少的数据代替整个时间序列数据，以达到提高效率和降维的目的。
- 主要方法
  - 基于域变换的特征表示方法
    - 基于变换的时间序列表示通常采用时域-频域变换方法将某种信号的时域信号变换成频域信号，通过变换后频域的数据值表示整个时间序列。
    - 常见的表示方法有
      - 离散傅里叶变换（DFT）
      - 离散小波变换（DWT）
      - 奇异值分解（SVD）
  - 基于模型的特征表示方法
    - 基于模型的时间序列特征表示方法主要假定其原始数据是由具体模型产生，随之而来就是根据假定的模型进行求解，并针对其表示方法进行简化。
    - 主要有以下几种方法
      - 基于自回归模型（Autoregressive Mode，ARM）的特征表示方法
      - 基于多项式回归模型的特征表示方法
      - 基于正交多项式回归分析模型的特征表示方法
      - 基于隐马尔可夫模型（Hidden Markov Model，HMM）的特征表示方法
      - 基于核模型（Kernel Model）的特征表示方法
  - 基于分段的特征表示方法
    - 基于分段的表示方法采用极限思想，其主要过程为首先通过将时间序列分段切割，从而将整个时间序列按照一定时间间隔将整个序列划分为若干子序列，然后将每一子序列进行简化，将得到简化后时间序列数据代替原始数据进行表示，从而达到降维和特征提取的目的。
    - 常见的分段表示方法有
      - 分段线性近似表示（PLR）
      - 分段累积近似表示（PAA）
      - 自适应分段累积近似表示（APCA）
  - 基于符号的特征表示方法
    - 将时间序列的数据通过离散化方法将数据映射成相应的字符，从而得到字符串形式表达的时间序列数据，然后采用计算机技术中比较成熟的字符串处理算法来进行时间序列数据挖掘。

## 时间序列相似性搜索

- 时间序列相似性搜索是时间序列数据挖掘研究中的基础问题，同时也是时间序列分类、聚类异常检测等相关研究的基础和前提。
- 时间序列的相似度判定主要依据两条时间序列相似计算后结果是否满足用户给定的阀值，如果满足则为相似，反之为不相似。由于时间序列其数据轴会产生振幅伸缩平移，时间轴会产生间隔伸缩弯曲等形变，所以一般采用距离函数来度量两条时间序列相似性。距离越小越相似，距离越大越不相似。
- 常用作相似性度量的距离函数有以下几种
  - 闵可夫斯基距离，要求两条时间序列均等
  - 动态时间弯曲距离,支持时间伸缩
  - K近邻搜索

